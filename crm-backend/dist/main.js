(()=>{"use strict";(function(){const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord");let n=!1;e.addEventListener("click",(function(){n=!n,n?(this.style.transform="rotate(180deg)",t.style.top="25px",t.firstElementChild.style.opacity=1):(this.style.transform="rotate(0deg)",t.style.top="0px",t.firstElementChild.style.opacity=0)}))})(),function(){const e=document.querySelector(".header"),t=document.querySelector(".popup-dialog-menu"),n=document.querySelector(".close-menu"),l=document.querySelectorAll(".menu-link"),r=document.querySelector(".popup-repair-types"),o=(document.querySelector(".menu-link.no-overflow"),document.querySelectorAll(".link-popuprepair")),s=document.querySelectorAll(".close"),i=document.querySelectorAll(".link-privacy"),a=document.querySelector(".popup-privacy"),c=(document.querySelectorAll(".formula-item-popup"),document.querySelectorAll(".formula-item__icon"));let d=!1,u=!1;window.addEventListener("resize",(function(){document.body.clientWidth<576?t.style.transform="translate3d(0, -715px, 0)":t.style.transform="translate3d(645px, 0, 0)"})),e.addEventListener("click",(e=>{e.target.closest(".menu")&&(t.style.transform="translate3d(0, 0, 0)",setTimeout((()=>{u=!0}),700))})),document.onkeydown=e=>{u&&"Escape"==e.key&&(u=!1,t.style.transform="translate3d(645px, 0, 0)"),d&&"Escape"==e.key&&(d=!1,a.style.visibility="hidden")},document.addEventListener("click",(e=>{if(u&&(e.preventDefault(),!e.target.contains(n)&&e.target.closest(".popup-dialog-menu")||(u=!1,document.body.clientWidth<576?t.style.transform="translate3d(0, -715px, 0)":t.style.transform="translate3d(645px, 0, 0)"),l.forEach((n=>{if(n.hash.length>2){let l;e.target.contains(n)&&e.target.closest("a")&&(l=Math.round(document.querySelector(n.hash).getBoundingClientRect().top+window.pageYOffset),u=!1,t.style.transform="translate3d(645px, 0, 0)",((e,t)=>{let n=Math.round(+t/2e3);requestAnimationFrame((function e(){document.documentElement.scrollTop<t?(document.documentElement.scrollTop=document.documentElement.scrollTop+25*n,requestAnimationFrame(e)):document.documentElement.scrollTop=t}))})(0,l))}}))),e.target==document.querySelector('[href="#main"]')){e.preventDefault();let t=requestAnimationFrame((function e(){document.documentElement.scrollTop=document.documentElement.scrollTop-100,document.documentElement.scrollTop<100?(document.documentElement.scrollTop=0,cancelAnimationFrame(t)):requestAnimationFrame(e)}))}e.target.closest(".menu-link.no-overflow")&&(r.style.visibility="visible",u&&(u=!1,document.body.clientWidth<576?t.style.transform="translate3d(0, -715px, 0)":t.style.transform="translate3d(645px, 0, 0)"))})),i.forEach((e=>{e.addEventListener("click",(()=>{a.style.visibility="visible",d=!0}))})),o.forEach((e=>{e.addEventListener("click",(()=>{r.style.visibility="visible"}))})),s.forEach((e=>{e.addEventListener("click",(()=>{r.style.visibility="hidden",d&&(d=!1,a.style.visibility="hidden")}))}));let m=document.createElement("style");m.id="styleFormula",c.forEach((e=>{e.addEventListener("mouseover",(()=>{if(e.closest(".mobile-hide")){let t=e.getBoundingClientRect().top,n=e.firstElementChild.clientHeight,l=e.clientHeight;t<n&&(e.firstElementChild.style.transform=`translateY(${n+l+45}px)`,m.innerText=`.formula-item-popup-${e.children[2].textContent}:before {transform: rotate(180deg);}`,document.head.appendChild(m)),e.classList.add("active-item")}})),e.addEventListener("mouseout",(()=>{e.closest(".mobile-hide")&&(e.classList.remove("active-item"),e.firstElementChild.removeAttribute("style"),document.getElementById("styleFormula")&&document.head.removeChild(m))}))}))}(),document.querySelectorAll("[name = phone]").forEach((e=>{e.addEventListener("input",(()=>{16===e.value.length&&e.blur(),e.value.length>16?e.value=e.value.substr(0,16):e.value=e.value.replace(/[^\d\(\)\-\+]/,""),e.value.length>7&&(/^[\+][\d][\(][\d][\d][\d][\)]/.test(e.value)||(e.value="+7"))})),e.addEventListener("keyup",(t=>{if(console.log(t.key),"("!=t.key&&")"!=t.key&&"-"!=t.key&&"+"!=t.key||(e.value=e.value.slice(0,-1)),5==e.value.length){let t=e.value.substr(-3);/^\d+$/.test(t)?e.value=`+7(${t})`:e.value="+7"}else(10==e.value.length&&"Backspace"!==t.key&&"Delete"!==t.key||13==e.value.length&&"Backspace"!==t.key&&"Delete"!==t.key)&&(e.value=`${e.value}-`)})),e.addEventListener("focus",(()=>{e.value.length<2&&(e.value="+7 ")})),e.addEventListener("blur",(()=>{e.value.length<4&&(e.value="")}))})),(()=>{const e=document.querySelectorAll(".repair-types-nav__item"),t=document.querySelector(".repair-types-slider"),n=document.querySelectorAll(".repair-types-slider__slide"),l=document.getElementById("repair-types-arrow_left"),r=document.getElementById("repair-types-arrow_right"),o=document.querySelector(".slider-counter-content__current"),s=document.querySelector(".slider-counter-content__total"),i=document.getElementById("nav-arrow-repair-right_base"),a=document.getElementById("nav-arrow-repair-left_base"),c=document.querySelector(".nav-list-repair");let d=0,u=0,m=c.offsetWidth/4,y=1,p=1;const v=()=>{y=1,p=1,m=c.offsetWidth/4,i.addEventListener("click",(()=>{y++,c.offsetWidth>m*(y+2)?(c.style.transform=`translateX(-${m*y}px)`,p--):y--})),a.addEventListener("click",(()=>{y>1&&(c.style.transform=`translateX(${m*p}px)`,p++,y--)}))};document.querySelector(".repair-types-tab").classList.add("no-select");const h=()=>{o.innerText=u+1,s.innerText=t.children[d].children.length},f=()=>{n.forEach((e=>{e.style.display="none"})),t.children[d].children[u].style.display="block",e[d].classList.add("active"),h()};e.forEach((t=>{t.addEventListener("click",(()=>{t.classList.contains("repair-types-nav__item-1")?(e[d].classList.remove("active"),d=0,u=0,f()):t.classList.contains("repair-types-nav__item-2")?(e[d].classList.remove("active"),d=1,u=0,f()):t.classList.contains("repair-types-nav__item-3")?(e[d].classList.remove("active"),d=2,u=0,f()):t.classList.contains("repair-types-nav__item-4")?(e[d].classList.remove("active"),d=3,u=0,f()):t.classList.contains("repair-types-nav__item-5")&&(e[d].classList.remove("active"),d=4,u=0,f())}))})),window.addEventListener("resize",v()),l.addEventListener("click",(e=>{u>0?u-=1:u=t.children[d].children.length-1,f(),h()})),r.addEventListener("click",(e=>{u>=t.children[d].children.length-1?u=0:u+=1,console.log(u),f(),h()})),h(),v()})()})();